const CharitableWPCode=window.CharitableWPCode||function(document,window,$){const app={spinnerBlue:'<i class="charitable-loading-spinner charitable-loading-blue charitable-loading-inline"></i>',spinnerWhite:'<i class="charitable-loading-spinner charitable-loading-white charitable-loading-inline"></i>',snippetSearch:null,init(){$(app.ready)},ready(){if($("#charitable-wpcode-snippets-list").length){var wpcodeSearch=new List("charitable-wpcode-snippets-list",{valueNames:["charitable-wpcode-snippet-title"],listClass:"charitable-wpcode-snippets-list"});$("#charitable-wpcode-snippet-search").on("keyup search",(function(){app.searchSnippet(this,wpcodeSearch)}))}app.events()},events(){$(".charitable-wpcode-snippet-button").on("click",app.installSnippet);$(".charitable-wpcode-popup-button").on("click",app.installPlugin)},installSnippet(){const $button=$(this);if($button.data("action")==="edit"){return}const originalWidth=$button.width();const $badge=$button.prev(".charitable-wpcode-snippet-badge");$badge.addClass("charitable-wpcode-installing-in-progress").text(charitableWpcodeVars.installing_text);$button.width(originalWidth).html(app.spinnerBlue)},searchSnippet(searchField,wpcodeSearch){var searchTerm=$(searchField).val();searchTerm=searchTerm.replace(/[.,]/g," ");const searchResults=wpcodeSearch.search(searchTerm);const $noResultsMessage=$("#charitable-wpcode-no-results");if(searchResults.length===0){$noResultsMessage.show()}else{$noResultsMessage.hide()}},installPlugin(){const $btn=$(this);if($btn.hasClass("disabled")){return}const action=$btn.attr("data-action"),plugin=$btn.attr("data-plugin"),args=JSON.stringify({overwrite_package:true}),ajaxAction=action==="activate"?"charitable_activate_addon":"charitable_install_addon";$btn.width($btn.width()).html(app.spinnerWhite).addClass("disabled");const data={action:ajaxAction,nonce:charitable_admin.nonce,plugin:plugin,args:args,type:"plugin"};$.post(charitable_admin.ajax_url,data).done((function(){location.reload()}))}};return app}(document,window,jQuery);CharitableWPCode.init();