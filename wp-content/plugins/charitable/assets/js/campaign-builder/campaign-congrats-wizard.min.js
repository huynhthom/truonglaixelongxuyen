"use strict";var CharitableCampaignCongratsWizard=window.CharitableCampaignCongratsWizard||function(document,window,$){var el={};var vars={formId:0,isBuilder:false,lastEmbedSearchPageTerm:""};var app={init:function(){$(app.ready);$(window).on("load",(function(){if(typeof $.ready.then==="function"){$.ready.then(app.load)}else{app.load()}}))},ready:function(){wpchar.debug("wizard ready","congrats wizard");app.initVars();app.events()},load:function(){wpchar.debug("congrats wizard load","congrats wizard");wpchar.debug(vars,"congrats wizard");if(vars.isBuilder){app.initialStateToggle()}},initVars:function(){wpchar.debug("wizard initVars","congrats wizard");el={$wizardContainer:$("#charitable-admin-campaign-congrats-wizard-container"),$wizard:$("#charitable-admin-campaign-congrats-wizard"),$contentInitial:$("#charitable-admin-campaign-congrats-wizard-content-initial")};vars.isBuilder=typeof CharitableCampaignBuilder!=="undefined";vars.pagesExists=el.$wizard.data("pages-exists")===1},events:function(){wpchar.debug("CharitableCampaignCongratsWizard events","congrats wizard");wpchar.debug(el.$wizard,"congrats wizard");if(!el.$wizard.length){return}el.$wizard.on("click",".charitable-admin-launch-embed-wizard",app.embedPageRedirect).on("click",".charitable-admin-popup-btn-1",app.gotoLink1).on("click",".charitable-admin-popup-btn-2",app.gotoLink2).on("click",".charitable-admin-popup-btn-3",app.gotoLink3).on("click",".charitable-admin-popup-close",app.closePopup)},openInNewTab:function(url){var win=window.open(url,"_blank");win.focus()},gotoLink1:function(e){e.preventDefault();e.stopPropagation();app.openInNewTab("https://www.wpcharitable.com/extensions/charitable-newsletter-connect/")},gotoLink2:function(e){e.preventDefault();e.stopPropagation();app.openInNewTab("https://wpcharitable.com/extensions/charitable-ambassadors/")},gotoLink3:function(e){e.preventDefault();e.stopPropagation();app.openInNewTab("https://www.wpcharitable.com/extensions/charitable-automation-connect/")},embedPageRedirect:function(){app.closePopup();CharitableCampaignEmbedWizard.openPopup()},initialStateToggle:function(e){if(e){e.preventDefault()}el.$contentInitial.show()},openPopup:function(openFormId,campaignURL){openFormId=openFormId||0;wpchar.debug("openPopup opening with "+openFormId,"congrats wizard");$("a.charitable-admin-congrats-popup-btn").attr("href",campaignURL);vars.formId=vars.isBuilder?$("#charitable-builder-form").data("id"):openFormId;if(typeof confetti==="function"){confetti({particleCount:150,zIndex:9999999999})}el.$wizardContainer.fadeIn()},closePopup:function(){wpchar.debug("closePopup","congrats wizard");wpchar.debug(el.$wizardContainer,"congrats wizard");el.$wizardContainer.fadeOut();app.initialStateToggle();$(document).trigger("charitableWizardPopupClose")},initTooltip:function(){if(typeof $.fn.tooltipster==="undefined"){return}var $dot=$('<span class="charitable-admin-campaign-congrats-wizard-dot">&nbsp;</span>'),isGutengerg=app.isGutenberg(),anchor=isGutengerg?".block-editor .edit-post-header":"#wp-content-editor-tools .charitable-insert-form-button";var tooltipsterArgs={content:$("#charitable-admin-campaign-congrats-wizard-tooltip-content"),trigger:"custom",interactive:true,animationDuration:0,delay:0,theme:["tooltipster-default","charitable-admin-campaign-congrats-wizard"],side:isGutengerg?"bottom":"right",distance:3,functionReady:function(instance,helper){instance._$tooltip.on("click","button",(function(){instance.close();$(".charitable-admin-campaign-congrats-wizard-dot").remove()}));instance.reposition()}};$dot.insertAfter(anchor).tooltipster(tooltipsterArgs).tooltipster("open")},isGutenberg:function(){return typeof wp!=="undefined"&&Object.prototype.hasOwnProperty.call(wp,"blocks")}};return app}(document,window,jQuery);CharitableCampaignCongratsWizard.init();