"use strict";var Charitable=window.Charitable||{};Charitable.Admin=Charitable.Admin||{};Charitable.Admin.Builder=Charitable.Admin.Builder||{};Charitable.Admin.Builder.CharitableChoicesJS=Charitable.Admin.Builder.CharitableChoicesJS||function(document,window,$){const app={setup:function(element,choicesJSArgs,ajaxArgs){choicesJSArgs.searchEnabled=true;choicesJSArgs.searchChoices=ajaxArgs.nonce===null;choicesJSArgs.renderChoiceLimit=-1;choicesJSArgs.noChoicesText=charitable_builder.no_pages_found;choicesJSArgs.noResultsText=charitable_builder.no_pages_found;const choicesJS=new Choices(element,choicesJSArgs);if(ajaxArgs.nonce===null){return choicesJS}choicesJS.input.element.addEventListener("keyup",(function(ev){if(ev.which!==8&&ev.which!==46||ev.target.value.length>0){return}app.performSearch(choicesJS,"",ajaxArgs)}));choicesJS.passedElement.element.addEventListener("search",_.debounce((function(ev){if(choicesJS.input.element.value.length===0){return}app.performSearch(choicesJS,ev.detail.value,ajaxArgs)}),800));return choicesJS},performSearch:function(choicesJS,searchTerm,ajaxArgs){if(!ajaxArgs.action||!ajaxArgs.nonce){return}app.displayLoading(choicesJS);const requestSearchPages=app.ajaxSearchPages(ajaxArgs.action,searchTerm,ajaxArgs.nonce);requestSearchPages.done((function(response){choicesJS.setChoices(response.data,"value","label",true)}))},displayLoading:function(choicesJS){choicesJS.setChoices([{value:"",label:`${charitable_builder.loading}...`,disabled:true}],"value","label",true)},ajaxSearchPages:function(action,searchTerm,nonce){return $.get(charitable_builder.ajax_url,{action:action,search:searchTerm,_wpnonce:nonce}).fail((function(err){console.error(err)}))}};return app}(document,window,jQuery);